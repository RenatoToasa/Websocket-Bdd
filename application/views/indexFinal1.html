<!DOCTYPE HTML>
<html>
	<head>
		<title>Teleoperacion</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="<?php echo site_url('bower_components/html5shiv/dist'); ?>/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="<?php echo site_url('bower_components/font-awesome/css'); ?>/font-awesome.css" />
		<link rel="stylesheet" href="<?php echo site_url('css'); ?>/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="<?php echo site_url('css'); ?>/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="<?php echo site_url('css'); ?>/ie9.css" /><![endif]-->
		<noscript><link rel="stylesheet" href="<?php echo site_url('css'); ?>/noscript.css" /></noscript>




     <link href="<?php echo site_url('css'); ?>/style.css" rel="stylesheet">

    
    <link href="<?php echo site_url('img'); ?>/favicon.ico" rel="shortcut icon">



    <script src="<?php echo site_url('js'); ?>/UnityProgress.js"></script>


    <script src="http://code.jquery.com/jquery-2.2.1.min.js"></script>

  <script src="<?php echo site_url('js'); ?>/jquery-2.1.4.min.js"></script>
  <script src="<?php echo site_url('js'); ?>/jquery-2.1.4.min.js"></script>
  <script src="<?php echo site_url('js'); ?>/fancywebsocket.js"></script>
  <script src="<?php echo site_url('js'); ?>/socket.js"></script>
  <script src="<?php echo site_url('js'); ?>/bootstrap.js"></script>

    <!-- Bootstrap -->
    <link href="<?php echo site_url('css'); ?>/bootstrap.min.css" rel="stylesheet">
    <link rel="canonical" href="http://themes.getbootstrap.com/products/dashboard" >
   <!-- Video -->
    <script src="<?php echo site_url('js'); ?>/firebase.js"></script>
  <script src="<?php echo site_url('js'); ?>/RTCPeerConnection-v1.5.js"></script>
  <script src="<?php echo site_url('js'); ?>/broadcast.js"></script>
  <script src="<?php echo site_url('js'); ?>/DetectRTC.js"></script>



	</head>
	<body class="is-loading-0 is-loading-1 is-loading-2">
	<div id="viewer"> 


		<div class="inner"> 
			<!--MAGIA-->
			 <section class="experiment"> 
			 <div>
		        <div id="videos-container" >
		        </div>


		    </section>
		    <div class="contenedorUnity1"   >
		      <canvas class="emscripten" id="canvas" name= "canvas" oncontextmenu="event.preventDefault()" height="250px" width="350px" >
		      </canvas>
		      <br>
		     <!-- <div class="logo"></div>
		      <div class="fullscreen">

		        <img src="<?php echo site_url('img'); ?>/fullscreen.png" width="38" height="38" alt="Fullscreen" title="Fullscreen" onclick="SetFullscreen(1);" />
		      </div>
		      -->
		    </div>
		<!--/MAGIA-->
			<div class="toggle" ></div> 
		</div> 
	</div>
		<!-- Main -->
			<div id="main" >
				<!-- Header -->
					<header id="header" >
						<h2>Teleoperacion Bilateral</h2>
						<br>



				<div class="col-lg-0.5">
				<div class="panel panel-default">
					<div class="panel-heading">
						 <center><strong>Falcon</strong></center>	
				

					</div>
					<div class="panel-body" id='falcon'>	
							 <center>
						 Pl: 0000
						 <br>
						 Pm: 0000
						 <br>
						 Pn: 0000
						 </center>
					</div>
				</div>
			</div>

							<div class="col-lg-0.5">
				<div class="panel panel-default">
					<div class="panel-heading">
						 <center><strong>Brazo</strong></center>	
					</div>
					<div class="panel-body" id='brazo'>	
					
					</div>
				</div>
			</div>

							<div class="col-lg-0.5">
				<div class="panel panel-default">
					<div class="panel-heading">
						 <center><strong>Plataforma</strong></center>	
					</div>
					<div class="panel-body" id='plataforma'>	
					
					</div>
				</div>
			</div>

						<ul class="icons">

							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon fa-github"><span class="label">Github</span></a></li>
							<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
						
						</ul>
<!-- 
						<label>MOT1</label>
						<input type="range" id ="mot1" name="mot1" min="0" max="4096" >
						<label>MOT2</label>
						<input type="range" id ="mot2" name="mot2" min="0" max="4096" >
						<label>MOT5</label>
						<input type="range" id ="mot5" name="mot5" min="0" max="4096"  >
						<label>MOT7</label>
						<input type="range" id ="mot7" name="mot7" min="0" max="4096"  >
-->
					</header>

					

				<!-- Thumbnail -->
					<section id="thumbnails">
						
					</section>

				<!-- Footer -->
					<footer id="footer">
						<ul class="copyright">
<!-- 
							<li>&copy; Teleoperacion.</li><li>Desarrolladores: <a href="http://designscrazed.org/">UTA</a>.</li>
							-->
						</ul>
					</footer>

			</div>
		<!-- Scripts -->
			<script src="<?php echo site_url('bower_components/jquery/dist'); ?>/jquery.min.js"></script>
			<script src="<?php echo site_url('bower_components/skel/src'); ?>/skel.js"></script>
			<!--[if lte IE 8]><script src="<?php echo site_url('bower_components/respond/src'); ?>/respond.js"></script><![endif]-->

			<script src="<?php echo site_url('js'); ?>/main.js"></script>
			<script type='text/javascript'>
			  $('#falcon').parent().addClass('panel-success');
			  var Module = {
			    TOTAL_MEMORY: 268435456,
			    errorhandler: null,     // arguments: err, url, line. This function must return 'true' if the error is handled, otherwise 'false'
			    compatibilitycheck: null,
			    dataUrl: "<?php echo site_url('js'); ?>/Plataforma1(WebGL).data",
				  codeUrl: "<?php echo site_url('js'); ?>/Plataforma1(WebGL).js",
			    memUrl: "<?php echo site_url('js'); ?>/Plataforma1(WebGL).mem",
			  };
			</script>
			 <script src="<?php echo site_url('js'); ?>/UnityLoader.js"></script>
			 <script src="<?php echo site_url('js'); ?>/streaming.js" type="text/javascript"></script>
			<script type="text/javascript" >
			function testing(texto){
				console.log(texto);
			}
			</script>
			<script type="text/javascript">
			$(document).ready(function(){
				//Envio al mover motor1

				//$('input[name="mot1"]').append('<option value="'+res.mot1'"></option>');


				$('input[name="mot1"]').on('change',function(){
					try{
						SendMessage('Q1','moverQ1',parseInt($(this).val()));
						console.log($(this).val());
						    //e.preventDefault();
					      var mensaje = {'origen':'php','destino':'plataforma','motor1':$('input[name="mot1"]').val(), 'motor2':$('input[name="mot2"]').val(),'motor5':$('input[name="mot5"]').val(), 'motor7':$('input[name="mot7"]').val()};
					     Server.send('message', JSON.stringify(mensaje) );
					   // SendMessage('Q1','moverQ1',100);
					}catch(err){
						console.log("error m1");
					}

				});

			//Envio al mover motor2
				$('input[name="mot2"]').on('change',function(){
					try{
						SendMessage('Q2','moverQ2',parseInt($(this).val()));
						console.log($(this).val());
						    //e.preventDefault();
					      var mensaje = {'origen':'php','destino':'plataforma','motor1':$('input[name="mot1"]').val(), 'motor2':$('input[name="mot2"]').val(),'motor5':$('input[name="mot5"]').val(), 'motor7':$('input[name="mot7"]').val()};
					     Server.send('message', JSON.stringify(mensaje) );
					   // SendMessage('Q1','moverQ1',100);
					}catch(err){
						console.log("error m1");
					}

				});


			//Envio al mover motor5
				$('input[name="mot5"]').on('change',function(){
					try{
						SendMessage('Q3','moverQ3',parseInt($(this).val()));
						console.log($(this).val());
						    //e.preventDefault();
					      var mensaje = {'origen':'php','destino':'plataforma','motor1':$('input[name="mot1"]').val(), 'motor2':$('input[name="mot2"]').val(),'motor5':$('input[name="mot5"]').val(), 'motor7':$('input[name="mot7"]').val()};
					     Server.send('message', JSON.stringify(mensaje) );
					   // SendMessage('Q1','moverQ1',100);
					}catch(err){
						console.log("error m1");
					}

				});


			//Envio al mover motor7
				$('input[name="mot7"]').on('change',function(){
					try{
						SendMessage('Q4','moverQ4',parseInt($(this).val()));
						console.log($(this).val());
						    //e.preventDefault();
					      var mensaje = {'origen':'php','destino':'plataforma','motor1':$('input[name="mot1"]').val(), 'motor2':$('input[name="mot2"]').val(),'motor5':$('input[name="mot5"]').val(), 'motor7':$('input[name="mot7"]').val()};
					     Server.send('message', JSON.stringify(mensaje) );
					   // SendMessage('Q1','moverQ1',100);
					}catch(err){
						console.log("error m1");
					}

				});





					
			});
			</script>

	</body>
</html>